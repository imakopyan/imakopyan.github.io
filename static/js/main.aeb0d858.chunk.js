(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,a){e.exports={app:"App__app___2Ya5b",bar:"App__bar___FEzxE","app-header":"App__app-header___2RS-m",appHeader:"App__app-header___2RS-m",list:"App__list___FCt4A",preloader:"App__preloader___1-gVd",error:"App__error___1Qc_G"}},function(e,t,a){e.exports={submit:"SearchBar__submit___1SKSh","search-bar":"SearchBar__search-bar___2Ye5L",searchBar:"SearchBar__search-bar___2Ye5L",input:"SearchBar__input___3XKp-"}},function(e,t,a){},function(e,t,a){e.exports={dropdown:"Dropdown__dropdown___2NUt6",customSelect:"Dropdown__customSelect___239da"}},,,function(e,t,a){e.exports={"search-list":"SearchList__search-list___1DYWw",searchList:"SearchList__search-list___1DYWw"}},function(e,t,a){e.exports=a.p+"static/media/preloader.20050e55.svg"},function(e,t,a){e.exports=a(29)},,,,,,function(e,t,a){},,,,,,,,function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(12),i=a.n(s),c=(a(21),a(2)),o=a(3),l=a(6),h=a(4),u=a(5),p=a(1),m=a(8),d=a.n(m),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).handleSearchSubmit=a.handleSearchSubmit.bind(Object(p.a)(Object(p.a)(a))),a.handleSearchChange=a.handleSearchChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleSearchSubmit",value:function(e){e.preventDefault(),this.props.onSearchSubmit()}},{key:"handleSearchChange",value:function(e){this.props.onSearchChange(e.target.value)}},{key:"render",value:function(){return n.a.createElement("div",{className:d.a.searchBar},n.a.createElement("form",{onSubmit:this.handleSearchSubmit},n.a.createElement("input",{className:d.a.input,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441",autoFocus:!0,onChange:this.handleSearchChange}),n.a.createElement("button",{className:d.a.submit},"\u041f\u043e\u0438\u0441\u043a")))}}]),t}(r.Component),b=a(9),f=a.n(b),S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).getUrl=function(){var e=a.props.title.replace(/ /g,"_");return"https://ru.wikipedia.org/wiki/".concat(e)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("section",{className:f.a.SearchResult},n.a.createElement("h2",{className:f.a.title},n.a.createElement("a",{href:this.getUrl(),target:"_blank",rel:"nofollow noopener"},this.props.title)),n.a.createElement("p",{className:f.a.description,dangerouslySetInnerHTML:{__html:this.props.description}}))}}]),t}(r.Component),g=a(13),E=a.n(g),v=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.result.map(function(e){return n.a.createElement(S,{title:e.title,description:e.snippet,key:e.pageid})});return n.a.createElement("section",{className:E.a.searchList},e)}}]),t}(r.Component),j=a(10),y=a.n(j),O=function(e){return n.a.createElement("div",{className:y.a.dropdown},e.optionList&&n.a.createElement("select",{className:y.a.customSelect,onChange:function(t){e.onChange(t.target.value)}},e.optionList.map(function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.title)})))},w=a(14),k=a.n(w),C=a(7),N=a.n(C),L=[{id:1,title:"\u041f\u043e \u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u043e\u0441\u0442\u0438"},{id:2,title:"\u0410-\u042f"},{id:3,title:"\u042f-\u0410"},{id:4,title:"\u0421\u0430\u043c\u0430\u044f \u0441\u0432\u0435\u0436\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f"},{id:5,title:"\u0421\u0430\u043c\u0430\u044f \u0441\u0442\u0430\u0440\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f"}],R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).error=function(){0===a.state.searchResults.length&&a.setState({hasError:!0})},a.handlerSelect=function(e){a.setState({sortType:Number(e)})},a.state={searchQuery:"",submit:!1,searchResults:[],sortType:1,isLoading:!1,hasError:!1},a.handleSearch=a.handleSearch.bind(Object(p.a)(Object(p.a)(a))),a.handleChange=a.handleChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleSearch",value:function(){var e=this;this.setState({isLoading:!0,hasError:!1});var t="https://ru.wikipedia.org/w/api.php?action=query&origin=*&list=search&prop=info&inprop=url&utf8=&format=json&srlimit=25&srsearch=".concat(encodeURIComponent(this.state.searchQuery));Promise.resolve(fetch(t,{cache:"no-cache"})).then(function(e){if(!e.ok)throw new Error("Error");return e.json()}).then(function(t){e.setState({searchResults:t.query.search,isLoading:!1,hasError:t.query.search.length<1})}).catch(function(t){return e.setState({isLoading:!1,hasError:!0})})}},{key:"handleChange",value:function(e){this.setState({searchQuery:e})}},{key:"render",value:function(){var e;return 2===this.state.sortType?e=this.state.searchResults.slice().sort(function(e,t){return e.title<t.title?-1:e.title>t.title?1:0}):3===this.state.sortType?e=this.state.searchResults.slice().sort(function(e,t){return t.title<e.title?-1:t.title>e.title?1:0}):5===this.state.sortType?e=this.state.searchResults.slice().sort(function(e,t){return e.timestamp<t.timestamp?-1:e.timestamp>t.timestamp?1:0}):4===this.state.sortType&&(e=this.state.searchResults.slice().sort(function(e,t){return e.timestamp>t.timestamp?-1:e.timestamp<t.timestamp?1:0})),n.a.createElement("div",{className:N.a.app},n.a.createElement("header",{className:N.a.appHeader},n.a.createElement("h1",null,"Wikipedia Search")),n.a.createElement("div",null,n.a.createElement("div",{className:N.a.bar},n.a.createElement(_,{onSearchSubmit:this.handleSearch,onSearchChange:this.handleChange}),n.a.createElement("div",{className:N.a.filter},n.a.createElement(O,{optionList:L,onChange:this.handlerSelect}))),n.a.createElement("div",{className:N.a.list},this.state.isLoading?n.a.createElement("div",{className:N.a.preloader},n.a.createElement("img",{src:k.a,alt:"preloder"})):n.a.createElement(v,{result:e||this.state.searchResults}),this.state.hasError&!this.state.isLoading?n.a.createElement("p",{className:N.a.error},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"):"")))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[15,2,1]]]);
//# sourceMappingURL=main.aeb0d858.chunk.js.map